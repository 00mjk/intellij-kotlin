package jet

class TypeInfo<out T> {
  fun isSubtypeOf(other : TypeInfo<*>) : Boolean
  fun isInstance(obj : Any?) : Boolean
}

fun typeinfo<T>() : TypeInfo<T>
fun typeinfo<T>(expression : T) : TypeInfo<T>

fun <R> Any.synchronized(block : () -> R) : R

fun Any?.identityEquals(other : Any?) : Boolean // = this === other

// Can't write a body due to a bootstrapping problem (see JET-74)
fun Any?.equals(other : Any?) : Boolean// = this === other

// Returns "null" for null
fun Any?.toString() : String// = this === other

fun <T : Any> T?.sure() : T

fun String?.plus(other: Any?) : String

trait Comparable<in T> {
  fun compareTo(other : T) : Int
}

trait Hashable {
  fun hashCode() : Int
  fun equals(other : Any?) : Boolean
}

class Boolean : Comparable<Boolean> {
  fun not() : Boolean

  fun and(other : Boolean) : Boolean

  fun or(other : Boolean) : Boolean

  fun xor(other : Boolean) : Boolean

  fun equals(other : Any?) : Boolean
}

class String() : Comparable<String> {
  fun get(index : Int) : Char
  val length : Int

  fun plus(other : Any?) : String

  fun equals(other : Any?) : Boolean
  fun equalsIgnoreCase(other: String?) : Boolean

  fun substring(start: Int): String
  fun substring(start: Int, end: Int): String

  fun startsWith(prefix: String, toffset: Int): Boolean
  fun startsWith(prefix: String): Boolean
  fun endsWith(suffix: String): Boolean

  fun trim(): String
}


