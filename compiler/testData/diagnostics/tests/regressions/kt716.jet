// KT-716 Type inference failed

fun <T> typeinfo.TypeInfo<T>.getJavaClass() : java.lang.Class<T> {
    val t : java.lang.Object = this as java.lang.Object
    return t.getClass() as java.lang.Class<T> // inferred type is Object but Serializable was expected
}

fun getJavaClass<T>() = typeinfo.typeinfo<T>.getJavaClass()

fun main(args : Array<String>) {
    System.out?.println(getJavaClass<String>)
}